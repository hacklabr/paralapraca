{% extends "base.html" %}
{% load compress %}
{% load static %}
{% load i18n %}

{% block js %}
    {{ block.super }}
    {% compress js %}
    <!-- Core -->
    <script type="text/javascript" src="{% static 'js/core/app.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/core/controllers.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/core/services.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/core/filters.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'angular-tweet-filter/index.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'angular-sortable-view/src/angular-sortable-view.min.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/directives/fixedBar.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/directives/alertPopup.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/directives/markdowneditor.js' %}" charset="utf-8"></script>

    <!-- Certificate -->
    <script type="text/javascript" src="{% static 'js/certificate/app.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/certificate/controllers.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/certificate/filters.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/certificate/services.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'checklist-model/checklist-model.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/directives/file.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/directives/previewImage.js' %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static 'js/factories/timtec-models.js' %}" charset="utf-8"></script>
    {% endcompress %}
{% endblock %}

{% block wrapper_classes %}
wrapper-course-lesson
{% endblock %}

{% block body_attrs %}
ng-app="certification"
{% endblock %}

{% block content %}

<section class="course certificate" ng-controller="CertificateTemplateCtrl">

  <!-- ACTIONS -->
  <div class="actions-menu" fixed-bar>
    <div class="container-fluid">
      <div class="row">
        {% include 'administration/_alert.html' %}
        <a href="{% url 'paralapraca:administration.certificates' %}" class="btn btn-sm btn-danger cancel">{% trans 'Cancelar' %} </a>
        <div class="actions-buttons pull-right">
          <button class="btn btn-sm btn-primary btn-inverse save" ng-click="saveTemplate()">{% trans 'Save' %}</button>
        </div>
      </div>
    </div>
  </div>
  <!-- END ACTIONS -->

  <section class="certificate-content page container-fluid">
      {% verbatim %}
      <header class="page-header">
        <h3>{{ page_title }}</h3>
      </header>
      <div class="tab-pane active edit-certificates" id="edit-certificate">
        <div class="alert alert-info" role="alert" ng-bind-html="message"></div>
        <div class="certificate-container certificate-admin" ng-class="{'receipt-admin receipt' : ct.type == 'receipt'}">
          <div class="certificate-logos">
            <div class="certificate-logo">
              <img id="base-logo" alt="Logo" preview-image ng-model="images.base_logo" ng-src="{{ ct.certificate_template.base_logo_url }}" class="img-responsive" />
              <file ng-model="images.base_logo" name="logo"></file>
            </div>
            <div class="certificate-logo">
              <img id="site-logo" alt="Logo" preview-image ng-model="images.site_logo" ng-src="{{ ct.site_logo_url }}" class="img-responsive" />
              <file ng-model="images.site_logo" name="logo"></file>
            </div>
            <div class="certificate-logo">
              <img id="cert-logo" alt="Logo" preview-image ng-model="images.cert_logo" ng-src="{{ ct.certificate_template.cert_logo_url }}" class="img-responsive" />
              <file ng-model="images.cert_logo" name="logo"></file>
            </div>
          </div>
          <div class="certificate-title">{{ document_title }}</div>
          <div class="certificate-info">
            <p>Certificamos que</p>
            <p class="student">________________</p>
            <div class="certificate-template">
              <textarea class="editable-text" rows="3" ng-model="ct.text" placeholder="concluiu o módulo {nome_curso} no ambiente virtual de aprendizagem Programa Paralapracá, perfazendo o total de {carga_horaria} horas."></textarea>
            </div>
          </div>
          <footer>

            {% endverbatim %}
            <div class="credits-section">
              <p><b>Realizado em:</b> {{ site.domain }}</p>
              <p><b>URL de validação:</b> <a href="">{{ site.domain }}/(código)</a></p>
            </div>
            {% verbatim %}
            <div class="coordinator-section">
              <div class="certificate-signature">
                <img id="signature" alt="Assinatura"
                     preview-image ng-model="images.signature" ng-src="{{ ct.certificate_template.signature_url }}" class="img-responsive" />
                <file ng-model="images.signature" name="logo"></file>
              </div>
              <div class="editable editable-text name-coordinator">
                <input type="text" ng-model="ct.certificate_template.name" placeholder="Digite o nome" />
              </div>
              <div class="editable editable-text role-coordinator">
                <input type="text" ng-model="ct.certificate_template.role" placeholder="Digite o cargo" />
              </div>
            </div>
          </footer>
        </div>
      </div>
      {% endverbatim %}
  </section>
</section>
{% endblock %}
